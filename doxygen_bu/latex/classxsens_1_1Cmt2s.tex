\hypertarget{classxsens_1_1Cmt2s}{\section{\-Referencia de la \-Clase xsens\-:\-:\-Cmt2s}
\label{classxsens_1_1Cmt2s}\index{xsens\-::\-Cmt2s@{xsens\-::\-Cmt2s}}
}


\-Mid-\/level serial communication class.  




{\ttfamily \#include $<$cmt2.\-h$>$}

\subsection*{\-Métodos públicos}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classxsens_1_1Cmt2s_a19fd7f1bdcc307b7ef285f0f97be621b}{\hyperlink{classxsens_1_1Cmt2s_a19fd7f1bdcc307b7ef285f0f97be621b}{\-Cmt2s} ()}\label{classxsens_1_1Cmt2s_a19fd7f1bdcc307b7ef285f0f97be621b}

\begin{DoxyCompactList}\small\item\em \-Default constructor, initialize all members to their default values. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a2a67c3108870c0ed61fde78ffce17841}{\hyperlink{classxsens_1_1Cmt2s_a2a67c3108870c0ed61fde78ffce17841}{$\sim$\-Cmt2s} ()}\label{classxsens_1_1Cmt2s_a2a67c3108870c0ed61fde78ffce17841}

\begin{DoxyCompactList}\small\item\em \-Destructor, de-\/initialize, free memory allocated for buffers, etc. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a6c1d8935ef7ac15be3f5cd6b3801ebad}{\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} \hyperlink{classxsens_1_1Cmt2s_a6c1d8935ef7ac15be3f5cd6b3801ebad}{close} (void)}\label{classxsens_1_1Cmt2s_a6c1d8935ef7ac15be3f5cd6b3801ebad}

\begin{DoxyCompactList}\small\item\em \-Close the serial communication port. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a940ae8df233d0e7b22698219d2b55974}{uint32\-\_\-t \hyperlink{classxsens_1_1Cmt2s_a940ae8df233d0e7b22698219d2b55974}{get\-Baudrate} (void)}\label{classxsens_1_1Cmt2s_a940ae8df233d0e7b22698219d2b55974}

\begin{DoxyCompactList}\small\item\em \-Return the baudrate that is currently being used by the port. \end{DoxyCompactList}\item 
\hyperlink{classxsens_1_1Cmt1s}{\-Cmt1s} $\ast$ \hyperlink{classxsens_1_1Cmt2s_ae03ed3faafd335b5b312842b895cc001}{get\-Cmt1s} (void)
\begin{DoxyCompactList}\small\item\em \-Return a reference to the embedded \hyperlink{classxsens_1_1Cmt1s}{\-Cmt1s} object. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a746070c7d800ff00179c7378b0511ec8}{\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} \hyperlink{classxsens_1_1Cmt2s_a746070c7d800ff00179c7378b0511ec8}{get\-Last\-Result} (void) const }\label{classxsens_1_1Cmt2s_a746070c7d800ff00179c7378b0511ec8}

\begin{DoxyCompactList}\small\item\em \-Return the error code of the last operation. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a16c0872d8785745fc8a4a648fd7a3c4a}{\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} \hyperlink{classxsens_1_1Cmt2s_a16c0872d8785745fc8a4a648fd7a3c4a}{get\-Port\-Nr} (uint16\-\_\-t \&port) const }\label{classxsens_1_1Cmt2s_a16c0872d8785745fc8a4a648fd7a3c4a}

\begin{DoxyCompactList}\small\item\em \-Retrieve the port that the object is connected to. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a412a71d1ca8edbfa8d32e91e90960dbb}{\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} {\bfseries get\-Port\-Nr} (int32\-\_\-t \&port) const }\label{classxsens_1_1Cmt2s_a412a71d1ca8edbfa8d32e91e90960dbb}

\item 
\hypertarget{classxsens_1_1Cmt2s_acec7fe49e5273911f8abc81abd22e9bd}{\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} {\bfseries get\-Port\-Name} (char $\ast$portname) const }\label{classxsens_1_1Cmt2s_acec7fe49e5273911f8abc81abd22e9bd}

\item 
\hypertarget{classxsens_1_1Cmt2s_a00b2642c545f19867d9807ee23ff3d35}{uint32\-\_\-t \hyperlink{classxsens_1_1Cmt2s_a00b2642c545f19867d9807ee23ff3d35}{get\-Timeout} (void) const }\label{classxsens_1_1Cmt2s_a00b2642c545f19867d9807ee23ff3d35}

\begin{DoxyCompactList}\small\item\em \-Return the current timeout value in ms. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a4ba3c0dbe4bd7e55188e4695b93d70c2}{bool \hyperlink{classxsens_1_1Cmt2s_a4ba3c0dbe4bd7e55188e4695b93d70c2}{is\-Open} (void) const }\label{classxsens_1_1Cmt2s_a4ba3c0dbe4bd7e55188e4695b93d70c2}

\begin{DoxyCompactList}\small\item\em \-Return whether the communication port is open or not. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a67c8be4806691252f9dee4136f14ac12}{\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} \hyperlink{classxsens_1_1Cmt2s_a67c8be4806691252f9dee4136f14ac12}{open} (const char $\ast$port\-Name, const uint32\-\_\-t baud\-Rate=\hyperlink{cmtdef_8h_a56b1b182fb05cb2746c0a29ab5bae7ed}{\-C\-M\-T\-\_\-\-D\-E\-F\-A\-U\-L\-T\-\_\-\-B\-A\-U\-D\-\_\-\-R\-A\-T\-E}, uint32\-\_\-t read\-Buf\-Size=\hyperlink{cmtdef_8h_a59c570baa7aed9a7ca80039ea2eddef7}{\-C\-M\-T\-\_\-\-D\-E\-F\-A\-U\-L\-T\-\_\-\-R\-E\-A\-D\-\_\-\-B\-U\-F\-F\-E\-R\-\_\-\-S\-I\-Z\-E}, uint32\-\_\-t write\-Buf\-Size=\hyperlink{cmtdef_8h_aa23bbf277ce62aa44a107c5c873d0dcd}{\-C\-M\-T\-\_\-\-D\-E\-F\-A\-U\-L\-T\-\_\-\-W\-R\-I\-T\-E\-\_\-\-B\-U\-F\-F\-E\-R\-\_\-\-S\-I\-Z\-E})}\label{classxsens_1_1Cmt2s_a67c8be4806691252f9dee4136f14ac12}

\begin{DoxyCompactList}\small\item\em \-Open a communication channel to the given serial port name. \end{DoxyCompactList}\item 
\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} \hyperlink{classxsens_1_1Cmt2s_a8de6b3c4801b79c16c4ac73b86eb97b3}{read\-Message} (\hyperlink{classxsens_1_1Message}{\-Message} $\ast$rcv)
\begin{DoxyCompactList}\small\item\em \-Read a message from the \-C\-O\-M port. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_ac711824f5e4a5ac2a2099bae1db3502c}{\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} \hyperlink{classxsens_1_1Cmt2s_ac711824f5e4a5ac2a2099bae1db3502c}{set\-Callback\-Function} (\hyperlink{cmtdef_8h_a3944c5bada7f23f30534019faf605174}{\-Cmt\-Callback\-Type} tp, int32\-\_\-t instance, \hyperlink{cmtdef_8h_a83bf10c11731ef4cd254260e7e4d13c7}{\-Cmt\-Callback\-Function} func, void $\ast$param)}\label{classxsens_1_1Cmt2s_ac711824f5e4a5ac2a2099bae1db3502c}

\begin{DoxyCompactList}\small\item\em \-Set the callback function for when a message has been received or sent. \end{DoxyCompactList}\item 
\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} \hyperlink{classxsens_1_1Cmt2s_a80c5349c0813dc5c21b28662a72e714c}{set\-Timeout} (const uint32\-\_\-t ms=\hyperlink{cmtdef_8h_aab875c2b217956722317f1ebbde6c920}{\-C\-M\-T2\-\_\-\-D\-E\-F\-A\-U\-L\-T\-\_\-\-T\-I\-M\-E\-O\-U\-T})
\begin{DoxyCompactList}\small\item\em \-Set the default timeout value to use in blocking operations. \end{DoxyCompactList}\item 
\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} \hyperlink{classxsens_1_1Cmt2s_ad2678d6836924313a6db0b861818536c}{wait\-For\-Message} (\hyperlink{classxsens_1_1Message}{\-Message} $\ast$rcv, const uint8\-\_\-t msg\-Id, uint32\-\_\-t timeout\-Override, bool accept\-Error\-Message)
\begin{DoxyCompactList}\small\item\em \-Wait for a message to arrive. \end{DoxyCompactList}\item 
\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} \hyperlink{classxsens_1_1Cmt2s_a0cd65c8ae8f214e65cdca6c8aceb262c}{write\-Message} (\hyperlink{classxsens_1_1Message}{\-Message} $\ast$msg)
\begin{DoxyCompactList}\small\item\em \-Send a message over the \-C\-O\-M port. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Atributos protegidos}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classxsens_1_1Cmt2s_a2ad06dcfe1a3807ec8456cc88f64750b}{uint32\-\_\-t \hyperlink{classxsens_1_1Cmt2s_a2ad06dcfe1a3807ec8456cc88f64750b}{m\-\_\-baudrate}}\label{classxsens_1_1Cmt2s_a2ad06dcfe1a3807ec8456cc88f64750b}

\begin{DoxyCompactList}\small\item\em \-The baudrate that was last set to be used by the port. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a825a3557e45cdd635c2d1f68fda197ff}{\hyperlink{classxsens_1_1Cmt1s}{\-Cmt1s} \hyperlink{classxsens_1_1Cmt2s_a825a3557e45cdd635c2d1f68fda197ff}{m\-\_\-cmt1s}}\label{classxsens_1_1Cmt2s_a825a3557e45cdd635c2d1f68fda197ff}

\begin{DoxyCompactList}\small\item\em \-The \-C\-M\-T level 1 object that this class operates on. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_abacfa56aa9ba72212e29817c52aa143b}{\hyperlink{group__enums_ga822a2260a20af524029eef9e9a51ff6f}{\-Xsens\-Result\-Value} \hyperlink{classxsens_1_1Cmt2s_abacfa56aa9ba72212e29817c52aa143b}{m\-\_\-last\-Result}}\label{classxsens_1_1Cmt2s_abacfa56aa9ba72212e29817c52aa143b}

\begin{DoxyCompactList}\small\item\em \-The last result of an operation. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_acfd8b33fbd51b4b668cd4eb55ba440e9}{uint8\-\_\-t \hyperlink{classxsens_1_1Cmt2s_acfd8b33fbd51b4b668cd4eb55ba440e9}{m\-\_\-read\-Buffer} \mbox{[}\hyperlink{cmtdef_8h_a59c570baa7aed9a7ca80039ea2eddef7}{\-C\-M\-T\-\_\-\-D\-E\-F\-A\-U\-L\-T\-\_\-\-R\-E\-A\-D\-\_\-\-B\-U\-F\-F\-E\-R\-\_\-\-S\-I\-Z\-E}\mbox{]}}\label{classxsens_1_1Cmt2s_acfd8b33fbd51b4b668cd4eb55ba440e9}

\begin{DoxyCompactList}\small\item\em \-Buffer for reading data until a valid message is read. \-Should be rarely used. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_afd3d5a87b16c88bdaca52e0ee4a423ad}{uint16\-\_\-t \hyperlink{classxsens_1_1Cmt2s_afd3d5a87b16c88bdaca52e0ee4a423ad}{m\-\_\-read\-Buffer\-Count}}\label{classxsens_1_1Cmt2s_afd3d5a87b16c88bdaca52e0ee4a423ad}

\begin{DoxyCompactList}\small\item\em \-The number of valid bytes in the read\-Buffer. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a3068c5bc4fd712faef8e219633388943}{uint32\-\_\-t \hyperlink{classxsens_1_1Cmt2s_a3068c5bc4fd712faef8e219633388943}{m\-\_\-timeout}}\label{classxsens_1_1Cmt2s_a3068c5bc4fd712faef8e219633388943}

\begin{DoxyCompactList}\small\item\em \-Timeout in ms for blocking operations. \end{DoxyCompactList}\item 
\hypertarget{classxsens_1_1Cmt2s_a6330e23b00c4b2deb4149581ddb92d25}{uint32\-\_\-t \hyperlink{classxsens_1_1Cmt2s_a6330e23b00c4b2deb4149581ddb92d25}{m\-\_\-to\-End}}\label{classxsens_1_1Cmt2s_a6330e23b00c4b2deb4149581ddb92d25}

\begin{DoxyCompactList}\small\item\em \-The timestamp at which to end an operation. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Descripción detallada}
\-Mid-\/level serial communication class. 

\-The class uses \-C\-M\-T level 1, but does not inherit from it. \-If software needs to access the level 1 component, it needs to be done through the \hyperlink{classxsens_1_1Cmt2s_ae03ed3faafd335b5b312842b895cc001}{get\-Cmt1s()} function. 

\subsection{\-Documentación de las funciones miembro}
\hypertarget{classxsens_1_1Cmt2s_ae03ed3faafd335b5b312842b895cc001}{\index{xsens\-::\-Cmt2s@{xsens\-::\-Cmt2s}!get\-Cmt1s@{get\-Cmt1s}}
\index{get\-Cmt1s@{get\-Cmt1s}!xsens::Cmt2s@{xsens\-::\-Cmt2s}}
\subsubsection[{get\-Cmt1s}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Cmt1s}$\ast$ {\bf xsens\-::\-Cmt2s\-::get\-Cmt1s} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}inline\mbox{]}}}}\label{classxsens_1_1Cmt2s_ae03ed3faafd335b5b312842b895cc001}


\-Return a reference to the embedded \hyperlink{classxsens_1_1Cmt1s}{\-Cmt1s} object. 

\-Any manipulation of the object should be done through \hyperlink{classxsens_1_1Cmt2s}{\-Cmt2s}. \hyperlink{classxsens_1_1Cmt2s}{\-Cmt2s} integrity is not guaranteed if the \hyperlink{classxsens_1_1Cmt1s}{\-Cmt1s} object is manipulated directly. \hypertarget{classxsens_1_1Cmt2s_a8de6b3c4801b79c16c4ac73b86eb97b3}{\index{xsens\-::\-Cmt2s@{xsens\-::\-Cmt2s}!read\-Message@{read\-Message}}
\index{read\-Message@{read\-Message}!xsens::Cmt2s@{xsens\-::\-Cmt2s}}
\subsubsection[{read\-Message}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Xsens\-Result\-Value} {\bf xsens\-::\-Cmt2s\-::read\-Message} (
\begin{DoxyParamCaption}
\item[{{\bf \-Message} $\ast$}]{rcv}
\end{DoxyParamCaption}
)}}\label{classxsens_1_1Cmt2s_a8de6b3c4801b79c16c4ac73b86eb97b3}


\-Read a message from the \-C\-O\-M port. 

\-The function reads data from the embedded \hyperlink{classxsens_1_1Cmt1s}{\-Cmt1s} object. \-The data is then converted into a \hyperlink{classxsens_1_1Message}{\-Message} object. \-If an error occurred, a \-N\-U\-L\-L pointer is returned and the error code can be retrieved with get\-Last\-Error(). \hypertarget{classxsens_1_1Cmt2s_a80c5349c0813dc5c21b28662a72e714c}{\index{xsens\-::\-Cmt2s@{xsens\-::\-Cmt2s}!set\-Timeout@{set\-Timeout}}
\index{set\-Timeout@{set\-Timeout}!xsens::Cmt2s@{xsens\-::\-Cmt2s}}
\subsubsection[{set\-Timeout}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Xsens\-Result\-Value} {\bf xsens\-::\-Cmt2s\-::set\-Timeout} (
\begin{DoxyParamCaption}
\item[{const uint32\-\_\-t}]{ms = {\ttfamily {\bf \-C\-M\-T2\-\_\-\-D\-E\-F\-A\-U\-L\-T\-\_\-\-T\-I\-M\-E\-O\-U\-T}}}
\end{DoxyParamCaption}
)}}\label{classxsens_1_1Cmt2s_a80c5349c0813dc5c21b28662a72e714c}


\-Set the default timeout value to use in blocking operations. 

\-This function sets the level 2 timeout value. \-The \-L1 value is set to half the given timeout value. \hypertarget{classxsens_1_1Cmt2s_ad2678d6836924313a6db0b861818536c}{\index{xsens\-::\-Cmt2s@{xsens\-::\-Cmt2s}!wait\-For\-Message@{wait\-For\-Message}}
\index{wait\-For\-Message@{wait\-For\-Message}!xsens::Cmt2s@{xsens\-::\-Cmt2s}}
\subsubsection[{wait\-For\-Message}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Xsens\-Result\-Value} {\bf xsens\-::\-Cmt2s\-::wait\-For\-Message} (
\begin{DoxyParamCaption}
\item[{{\bf \-Message} $\ast$}]{rcv, }
\item[{const uint8\-\_\-t}]{msg\-Id, }
\item[{uint32\-\_\-t}]{timeout\-Override, }
\item[{bool}]{accept\-Error\-Message}
\end{DoxyParamCaption}
)}}\label{classxsens_1_1Cmt2s_ad2678d6836924313a6db0b861818536c}


\-Wait for a message to arrive. 

\-The function waits for a message to arrive or until a timeout occurs. \-If the msg\-Id parameter is set to a value other than 0, the function will wait until a message has arrived with that particular msg\-Id.

\begin{DoxyNote}{\-Nota}
msg\-Id 0 is the \-Req\-Device\-I\-D \-M\-I\-D, but that is an outgoing only message. \-It is illogical to wait for a message that will never be sent to the host. \-So 0 is a safe value for the 'all' messages option.

\-If an error message is received, the contents are stored in the m\-\_\-last\-Result field and a \-N\-U\-L\-L value is returned immediately. 
\end{DoxyNote}
\hypertarget{classxsens_1_1Cmt2s_a0cd65c8ae8f214e65cdca6c8aceb262c}{\index{xsens\-::\-Cmt2s@{xsens\-::\-Cmt2s}!write\-Message@{write\-Message}}
\index{write\-Message@{write\-Message}!xsens::Cmt2s@{xsens\-::\-Cmt2s}}
\subsubsection[{write\-Message}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Xsens\-Result\-Value} {\bf xsens\-::\-Cmt2s\-::write\-Message} (
\begin{DoxyParamCaption}
\item[{{\bf \-Message} $\ast$}]{msg}
\end{DoxyParamCaption}
)}}\label{classxsens_1_1Cmt2s_a0cd65c8ae8f214e65cdca6c8aceb262c}


\-Send a message over the \-C\-O\-M port. 

\-The function attempts to write the message over the connected \-C\-O\-M port. 
\begin{DoxyParams}{\-Parámetros}
{\em msg} & \-The message to send. \\
\hline
\end{DoxyParams}


\-La documentación para esta clase fue generada a partir del siguiente fichero\-:\begin{DoxyCompactItemize}
\item 
xsens\-\_\-driver/include/xsens\-\_\-driver/\hyperlink{cmt2_8h}{cmt2.\-h}\end{DoxyCompactItemize}
